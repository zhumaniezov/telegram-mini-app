const translations = {
  ru: {
    greeting: "Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ,",
    startBtn: "Ð’Ð¾Ð¹Ñ‚Ð¸ ÐºÐ°Ðº",
    mainTitle: "Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ",
    salaryTitle: "ðŸ’° Ð—Ð°Ñ€Ð¿Ð»Ð°Ñ‚Ð°",
    vacationTitle: "ðŸ–ï¸ ÐžÑ‚Ð¿ÑƒÑÐº",
    lunchTitle: "ðŸ• ÐžÐ±ÐµÐ´",
    chatTitle: "ðŸ’¬ Ð§Ð°Ñ‚",
    lunchPageTitle: "ðŸ½ï¸ ÐžÐ±ÐµÐ´ÐµÐ½Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ",
    absenceTitle: "ðŸš« ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ñ",
    docsTitle: "ðŸ“„ Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹",
    referencesTitle: "ðŸ“‘ Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ¸",
    confirmLunch: "ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ Ð¾Ð±ÐµÐ´",
    yourChoice: "Ð’Ð°Ñˆ Ð²Ñ‹Ð±Ð¾Ñ€:",
    choose: "Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ",
    back: "â† ÐÐ°Ð·Ð°Ð´",
    baseSalary: "ÐžÐºÐ»Ð°Ð´",
    bonus: "ÐŸÑ€ÐµÐ¼Ð¸Ñ",
    overtime: "ÐŸÐµÑ€ÐµÑ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸",
    totalAccrued: "Ð˜Ñ‚Ð¾Ð³Ð¾ Ð½Ð°Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¾",
    incomeTax: "ÐÐ”Ð¤Ð› (12%)",
    pensionTax: "ÐŸÐµÐ½ÑÐ¸Ð¾Ð½Ð½Ñ‹Ð¹ Ð²Ð·Ð½Ð¾Ñ (1%)",
    unionTax: "ÐŸÑ€Ð¾Ñ„ÑÐ¾ÑŽÐ·Ð½Ñ‹Ð¹ Ð²Ð·Ð½Ð¾Ñ",
    totalDeductions: "Ð˜Ñ‚Ð¾Ð³Ð¾ ÑƒÐ´ÐµÑ€Ð¶Ð°Ð½Ð¾",
    netSalary: "Ðš Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ðµ",
    accruals: "ÐÐ°Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ",
    deductions: "Ð£Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ñ",
    position: "Ð”Ð¾Ð»Ð¶Ð½Ð¾ÑÑ‚ÑŒ",
    employeeId: "Ð¢Ð°Ð±ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€",
    downloadPDF: "Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ PDF",
    sendEmail: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð° email",
    payslipTitle: "ðŸ’° Ð Ð°ÑÑ‡ÐµÑ‚Ð½Ñ‹Ð¹ Ð»Ð¸ÑÑ‚Ð¾Ðº",
    chooseYear: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð³Ð¾Ð´",
    chooseMonth: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¼ÐµÑÑÑ†",
    showPayslip: "ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ",
    vacationTitlePage: "ðŸ–ï¸ Ð’Ð°Ñˆ Ð¾Ñ‚Ð¿ÑƒÑÐº",
    daysLeft: "ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ Ð´Ð½ÐµÐ¹ Ð¾Ñ‚Ð¿ÑƒÑÐºÐ°:",
    planVacation: "Ð—Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð¿ÑƒÑÐº",
    submitRequest: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾Ñ",
    upcomingVacation: "Ð‘Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ð¹ Ð¾Ñ‚Ð¿ÑƒÑÐº",
    workStats: {
      daysLabel: "Ð Ð°Ð±Ð¾Ñ‡Ð¸Ñ… Ð´Ð½ÐµÐ¹ Ð² Ð¼ÐµÑÑÑ†Ðµ",
      hoursLabel: "Ð Ð°Ð±Ð¾Ñ‡Ð¸Ñ… Ñ‡Ð°ÑÐ¾Ð² Ð² Ð¼ÐµÑÑÑ†Ðµ",
      workedLabel: "ÐžÑ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð¼",
      daysShort: "Ð´Ð½ÐµÐ¹",
      hoursShort: "Ñ‡Ð°ÑÐ¾Ð²"
    },
    months: [
      "Ð¯Ð½Ð²Ð°Ñ€ÑŒ", "Ð¤ÐµÐ²Ñ€Ð°Ð»ÑŒ", "ÐœÐ°Ñ€Ñ‚", "ÐÐ¿Ñ€ÐµÐ»ÑŒ", "ÐœÐ°Ð¹", "Ð˜ÑŽÐ½ÑŒ",
      "Ð˜ÑŽÐ»ÑŒ", "ÐÐ²Ð³ÑƒÑÑ‚", "Ð¡ÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ", "ÐžÐºÑ‚ÑÐ±Ñ€ÑŒ", "ÐÐ¾ÑÐ±Ñ€ÑŒ", "Ð”ÐµÐºÐ°Ð±Ñ€ÑŒ"
    ],
    dishes: [
      {
        name: "ÐšÑƒÑ€Ð¸Ð½Ñ‹Ð¹ ÑÑƒÐ¿",
        description: "Ð¡ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ¹ Ð»Ð°Ð¿ÑˆÐ¾Ð¹ Ð¸ Ð·ÐµÐ»ÐµÐ½ÑŒÑŽ",
        calories: "250"
      },
      {
        name: "Ð“Ñ€ÐµÑ‡ÐºÐ° Ñ Ð³Ñ€Ð¸Ð±Ð°Ð¼Ð¸",
        description: "Ð¡ Ð»ÑƒÐºÐ¾Ð²Ð¾Ð¹ Ð¿Ð¾Ð´Ð¶Ð°Ñ€ÐºÐ¾Ð¹",
        calories: "320"
      },
      {
        name: "Ð¡Ð°Ð»Ð°Ñ‚ Ð¦ÐµÐ·Ð°Ñ€ÑŒ",
        description: "Ð¡ ÐºÑƒÑ€Ð¸Ñ†ÐµÐ¹ Ð¸ Ð¿Ð°Ñ€Ð¼ÐµÐ·Ð°Ð½Ð¾Ð¼",
        calories: "280"
      },
      {
        name: "Ð¢Ð¸Ñ€Ð°Ð¼Ð¸ÑÑƒ",
        description: "ÐšÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¸Ñ‚Ð°Ð»ÑŒÑÐ½ÑÐºÐ¸Ð¹",
        calories: "350"
      }
    ],
    caloriesTemplate: "~{calories} ÐºÐºÐ°Ð»",
    monthNorm: "ÐÐ¾Ñ€Ð¼Ð° Ð¼ÐµÑÑÑ†Ð° (Ð´Ð½Ð¸/Ñ‡Ð°ÑÑ‹):",
    employeeWorked: "ÐžÑ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð¼ (Ð´Ð½Ð¸/Ñ‡Ð°ÑÑ‹):",
    // absence.html
    absenceInfo: "Ð—Ð´ÐµÑÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ‚ÑŒÑÑ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾Ð± Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸ÑÑ…: Ð±Ð¾Ð»ÑŒÐ½Ð¸Ñ‡Ð½Ñ‹Ðµ, Ð¿Ñ€Ð¾Ð³ÑƒÐ»Ñ‹, Ð¾Ñ‚Ð³ÑƒÐ»Ñ‹ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ñ‹ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ñ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ°.",
    absenceEmpty: "ÐÐ° Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ñ Ð½Ðµ Ð·Ð°Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹.",

    // docs.html
    docsInfo: "Ð’ ÑÑ‚Ð¾Ð¼ Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒÑÑ Ð²Ð°ÑˆÐ¸ Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¸ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ â€” Ñ‚Ñ€ÑƒÐ´Ð¾Ð²Ñ‹Ðµ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ñ‹, Ð¿Ñ€Ð¸ÐºÐ°Ð·Ñ‹, Ð°ÐºÑ‚Ñ‹, Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹.",
    sampleContract: "Ð¢Ñ€ÑƒÐ´Ð¾Ð²Ð¾Ð¹ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€)",
    sampleOrder: "ÐŸÑ€Ð¸ÐºÐ°Ð· Ð¾ Ð¿Ñ€Ð¸ÐµÐ¼Ðµ Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€)",
    sampleInstruction: "Ð”Ð¾Ð»Ð¶Ð½Ð¾ÑÑ‚Ð½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€)",

    // references.html
    referencesInfo: "Ð’ ÑÑ‚Ð¾Ð¼ Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð·Ð°ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÐ¿Ñ€Ð°Ð²ÐºÐ¸ Ð¾ Ð´Ð¾Ñ…Ð¾Ð´Ð°Ñ…, Ð·Ð°Ð½ÑÑ‚Ð¾ÑÑ‚Ð¸, Ð´Ð»Ñ Ð±Ð°Ð½ÐºÐ°, Ð¿Ð¾ÑÐ¾Ð»ÑŒÑÑ‚Ð²Ð° Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ†ÐµÐ»ÐµÐ¹.",
    sampleIncome: "Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¾ Ð´Ð¾Ñ…Ð¾Ð´Ð°Ñ… (Ð¿Ñ€Ð¸Ð¼ÐµÑ€)",
    sampleEmployment: "Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ° Ñ Ð¼ÐµÑÑ‚Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€)",
    sampleBank: "Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ° Ð´Ð»Ñ Ð±Ð°Ð½ÐºÐ° (Ð¿Ñ€Ð¸Ð¼ÐµÑ€)",
    orderReference: "Ð—Ð°ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÐ¿Ñ€Ð°Ð²ÐºÑƒ"
  },
  uz: {
    greeting: "Hayrli kun,",
    startBtn: "Kirish",
    mainTitle: "Asosiy menyu",
    salaryTitle: "ðŸ’° Maosh",
    vacationTitle: "ðŸ–ï¸ Ta'til",
    lunchTitle: "ðŸ• Tushlik",
    chatTitle: "ðŸ’¬ Chat",
    lunchPageTitle: "ðŸ½ï¸ Tushlik menyusi",
    absenceTitle: "ðŸš« Yoâ€˜qliklar",
    docsTitle: "ðŸ“„ Hujjatlar",
    referencesTitle: "ðŸ“‘ Maâ€™lumotnomalar",
    confirmLunch: "Tushlikni tasdiqlash",
    yourChoice: "Tanlovingiz:",
    choose: "Tanlash",
    back: "â† Orqaga",
    baseSalary: "Asosiy maosh",
    bonus: "Bonus",
    overtime: "QoÊ»shimcha ish",
    totalAccrued: "Jami hisoblangan",
    incomeTax: "Daromad soligÊ»i (12%)",
    pensionTax: "Pensiya badali (1%)",
    unionTax: "Kasaba uyushmasi badali",
    totalDeductions: "Jami ushlab qolingan",
    netSalary: "ToÊ»lanadigan summa",
    accruals: "Hisob-kitoblar",
    deductions: "Ushlab qolishlar",
    position: "Lavozim",
    employeeId: "Ishchi raqami",
    downloadPDF: "PDF yuklab olish",
    sendEmail: "Emailga yuborish",
    payslipTitle: "ðŸ’° Hisob varaqasi",
    chooseYear: "Yilni tanlang",
    chooseMonth: "Oyni tanlang",
    showPayslip: "Koâ€˜rsatish",
    vacationTitlePage: "ðŸ–ï¸ Ta'tilingiz",
    daysLeft: "Qolgan ta'til kunlari:",
    planVacation: "Ta'tilni rejalashtiring",
    submitRequest: "Soâ€˜rov yuborish",
    upcomingVacation: "Yaqinlashayotgan ta'til",
    workStats: {
      daysLabel: "Oydagi ish kunlari",
      hoursLabel: "Oydagi ish soatlari",
      workedLabel: "Xodim tomonidan ishlangan",
      daysShort: "kun",
      hoursShort: "soat"
    },
    months: [
      "Yanvar", "Fevral", "Mart", "Aprel", "May", "Iyun",
      "Iyul", "Avgust", "Sentabr", "Oktabr", "Noyabr", "Dekabr"
    ],
    dishes: [
      {
        name: "Tovuq sho'rva",
        description: "Uy lag'moni va ko'katlar bilan",
        calories: "250"
      },
      {
        name: "Qo'ziqorinli grechka",
        description: "Piyoz qovurilgan",
        calories: "320"
      },
      {
        name: "Sezar salati",
        description: "Tovuq va parmezan bilan",
        calories: "280"
      },
      {
        name: "Tiramisu",
        description: "Klassik italyan deserti",
        calories: "350"
      }
    ],
    caloriesTemplate: "~{calories} kkal",
    monthNorm: "Oyni norma (kun/soat):",
    employeeWorked: "Xodim ishlagan (kun/soat):",
    // absence.html
    absenceInfo: "Bu boâ€˜limda kasallik varaqasi, sababli/sababsiz yoâ€˜qliklar va boshqa ishga chiqmagan kunlar aks etadi.",
    absenceEmpty: "Hozircha yoâ€˜qliklar qayd etilmagan.",

    // docs.html
    docsInfo: "Bu boâ€˜limda shaxsiy va ish hujjatlaringiz â€” mehnat shartnomalari, buyruqlar, aktlar, yoâ€˜riqnomalar va boshqa muhim fayllar saqlanadi.",
    sampleContract: "Mehnat shartnomasi (namuna)",
    sampleOrder: "Ishga qabul qilish buyrugâ€˜i (namuna)",
    sampleInstruction: "Lavozim yoâ€˜riqnomasi (namuna)",

    // references.html
    referencesInfo: "Bu boâ€˜limda daromad, ish joyi, bank, elchixona va boshqa maqsadlar uchun maâ€™lumotnoma buyurtma qilishingiz mumkin.",
    sampleIncome: "Daromad haqida maâ€™lumotnoma (namuna)",
    sampleEmployment: "Ish joyidan maâ€™lumotnoma (namuna)",
    sampleBank: "Bank uchun maâ€™lumotnoma (namuna)",
    orderReference: "Maâ€™lumotnoma buyurtma qilish"
  }
};

let currentLang = localStorage.getItem("lang") || "ru";

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem("lang", lang);
  translatePage();
}

// Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ñ… data-i18n (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, workStats.daysLabel)
function translatePage() {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.dataset.i18n;
    let value = translations[currentLang];
    key.split('.').forEach(k => {
      if (value) value = value[k];
    });
    if (value) el.textContent = value;
  });

  // ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹, ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ñ‚Ð°ÐºÐ¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
  if (typeof updateDishes === 'function') updateDishes();
  if (typeof updateMonths === 'function') updateMonths();
}

// Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
document.addEventListener("DOMContentLoaded", () => {
  translatePage();
});

window.translatePage = translatePage;
window.currentLang = currentLang;
window.translations = translations;
window.setLanguage = setLanguage;
